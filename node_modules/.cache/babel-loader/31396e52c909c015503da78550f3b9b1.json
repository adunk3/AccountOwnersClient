{"ast":null,"code":"import _objectSpread from \"/Users/alexduncan/accountownerclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/alexduncan/accountownerclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alexduncan/accountownerclient/src/containers/Owner/CreateOwner/CreateOwner.js\";\nimport React, { useState, useEffect } from 'react';\nimport Input from '../../../UI/Inputs/Input';\nimport { Form, Well, Button, FormGroup, Col } from 'react-bootstrap';\nimport { returnInputConfiguration } from '../../../Utility/InputConfiguration';\nimport * as formUtilityActions from '../../../Utility/formUtilityActions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport * as repositoryActions from '../../../store/actions/repositoryActions';\nimport * as errorHandlerActions from '../../../store/actions/errorHandlerActions';\nimport SuccessModal from '../../../components/Modals/SuccessModal/SuccessModal';\nimport ErrorModal from '../../../components/Modals/ErrorModal/ErrorModal';\n\nconst CreateOwner = props => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        ownerForm = _useState2[0],\n        setOwnerForm = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isFormValid = _useState4[0],\n        setIsFormValid = _useState4[1];\n\n  const dispatch = useDispatch();\n  const showSuccessModal = useSelector(state => state.repository.showSuccessModal);\n  const showErrorModal = useSelector(state => state.errorHandler.showErrorModal);\n  const errorMessage = useSelector(state => state.errorHandler.errorMessage);\n  useEffect(() => {\n    setOwnerForm(returnInputConfiguration());\n  });\n  const formElementsArray = formUtilityActions.convertStateToArrayOfFormObjects(_objectSpread({}, ownerForm));\n\n  const createOwner = event => {\n    event.preventDefault();\n    const ownerToCreate = {\n      name: ownerForm.name.value,\n      address: ownerForm.address.value,\n      dateOfBirth: ownerForm.dateOfBirth.value\n    };\n    const url = '/api/owner';\n    dispatch(repositoryActions.postData(url, ownerToCreate, props));\n  };\n\n  const handleChangeEvent = (event, id) => {\n    const updatedOwnerForm = _objectSpread({}, ownerForm);\n\n    updatedOwnerForm[id] = formUtilityActions.executeValidationAndReturnFormElement(event, updatedOwnerForm, id);\n    const counter = formUtilityActions.countInvalidElements(updatedOwnerForm);\n    setOwnerForm(updatedOwnerForm);\n    setIsFormValid(counter === 0);\n  };\n\n  const redirectToOwnerList = () => {};\n\n  return React.createElement(Well, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Form, {\n    horizontal: true,\n    onSubmit: createOwner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, formElementsArray.map(element => {\n    return React.createElement(Input, {\n      key: element.id,\n      elementType: element.config.element,\n      id: element.id,\n      label: element.config.label,\n      type: element.config.type,\n      value: element.config.value,\n      changed: event => handleChangeEvent(event, element.id),\n      errorMessage: element.config.errorMessage,\n      invalid: !element.config.valid,\n      shouldValidate: element.config.validation,\n      touched: element.config.touched,\n      blur: event => handleChangeEvent(event, element.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    });\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Col, {\n    mdOffset: 6,\n    md: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"submit\",\n    bsStyle: \"info\",\n    disabled: !isFormValid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Create\")), React.createElement(Col, {\n    md: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Button, {\n    bsStyle: \"danger\",\n    onClick: redirectToOwnerList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Cancel\")))), React.createElement(SuccessModal, {\n    show: showSuccessModal,\n    modalHeaderText: 'Success message',\n    modalBodyText: 'Action completed successfully',\n    okButtonText: 'OK',\n    successClick: () => dispatch(repositoryActions.closeSuccessModal(_objectSpread({}, props), '/owner-List')),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(ErrorModal, {\n    show: showErrorModal,\n    modalHeaderText: 'Error message',\n    modalBodyText: errorMessage,\n    okButtonText: 'OK',\n    closeModal: () => dispatch(errorHandlerActions.closeErrorModal()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }));\n};\n\nexport default CreateOwner;","map":{"version":3,"sources":["/Users/alexduncan/accountownerclient/src/containers/Owner/CreateOwner/CreateOwner.js"],"names":["React","useState","useEffect","Input","Form","Well","Button","FormGroup","Col","returnInputConfiguration","formUtilityActions","useSelector","useDispatch","repositoryActions","errorHandlerActions","SuccessModal","ErrorModal","CreateOwner","props","ownerForm","setOwnerForm","isFormValid","setIsFormValid","dispatch","showSuccessModal","state","repository","showErrorModal","errorHandler","errorMessage","formElementsArray","convertStateToArrayOfFormObjects","createOwner","event","preventDefault","ownerToCreate","name","value","address","dateOfBirth","url","postData","handleChangeEvent","id","updatedOwnerForm","executeValidationAndReturnFormElement","counter","countInvalidElements","redirectToOwnerList","map","element","config","label","type","valid","validation","touched","closeSuccessModal","closeErrorModal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Input from '../../../UI/Inputs/Input';\nimport { Form, Well, Button, FormGroup, Col } from 'react-bootstrap';\nimport { returnInputConfiguration } from '../../../Utility/InputConfiguration';\nimport * as formUtilityActions from '../../../Utility/formUtilityActions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport * as repositoryActions from '../../../store/actions/repositoryActions';\nimport * as errorHandlerActions from '../../../store/actions/errorHandlerActions';\nimport SuccessModal from '../../../components/Modals/SuccessModal/SuccessModal';\nimport ErrorModal from '../../../components/Modals/ErrorModal/ErrorModal';\n\n\n\n\n\n\n\n\n\n\nconst CreateOwner = (props) => {\n\n    const [ownerForm, setOwnerForm] = useState({});\n    const [isFormValid, setIsFormValid] = useState(false);\n\n    const dispatch = useDispatch();\n\n    const showSuccessModal = useSelector(state => state.repository.showSuccessModal);\n    const showErrorModal = useSelector(state => state.errorHandler.showErrorModal);\n    const errorMessage = useSelector(state => state.errorHandler.errorMessage);\n\n\n\n\n\n    useEffect(() => {\n        setOwnerForm(returnInputConfiguration());\n    })\n\n    const formElementsArray = formUtilityActions.convertStateToArrayOfFormObjects({ ...ownerForm });\n\n    const createOwner = (event) => {\n        event.preventDefault();\n\n        const ownerToCreate = {\n            name: ownerForm.name.value,\n            address: ownerForm.address.value,\n            dateOfBirth: ownerForm.dateOfBirth.value\n        }\n\n        const url = '/api/owner';\n\n        dispatch(repositoryActions.postData(url, ownerToCreate, props))\n\n    }\n\n    const handleChangeEvent = (event, id) => {\n\n        const updatedOwnerForm = { ...ownerForm };\n        updatedOwnerForm[id] = formUtilityActions.executeValidationAndReturnFormElement(event, updatedOwnerForm, id);\n        const counter = formUtilityActions.countInvalidElements(updatedOwnerForm);\n        setOwnerForm(updatedOwnerForm);\n        setIsFormValid(counter === 0);\n    }\n\n    const redirectToOwnerList = () => {\n\n    }\n\n\n    return (\n        <Well>\n            <Form horizontal onSubmit={createOwner}>\n                {\n                    formElementsArray.map(element => {\n                        return <Input key={element.id} elementType={element.config.element}\n                            id={element.id} label={element.config.label}\n                            type={element.config.type} value={element.config.value}\n                            changed={(event) => handleChangeEvent(event, element.id)}\n                            errorMessage={element.config.errorMessage}\n                            invalid={!element.config.valid} shouldValidate={element.config.validation}\n                            touched={element.config.touched}\n                            blur={(event) => handleChangeEvent(event, element.id)} />\n                    })\n                }\n                <br />\n                <FormGroup>\n                    <Col mdOffset={6} md={1}>\n                        <Button type='submit' bsStyle='info' disabled={!isFormValid}>Create</Button>\n                    </Col>\n                    <Col md={1}>\n                        <Button bsStyle='danger' onClick={redirectToOwnerList}>Cancel</Button>\n                    </Col>\n                </FormGroup>\n            </Form>\n            <SuccessModal show={showSuccessModal}\n                modalHeaderText={'Success message'}\n                modalBodyText={'Action completed successfully'}\n                okButtonText={'OK'}\n                successClick={() => dispatch(repositoryActions.closeSuccessModal({ ...props }, '/owner-List'))} />\n            <ErrorModal show={showErrorModal}\n                modalHeaderText={'Error message'}\n                modalBodyText={errorMessage}\n                okButtonText={'OK'} closeModal={() => dispatch(errorHandlerActions.closeErrorModal())} />\n        </Well>\n    )\n}\nexport default CreateOwner;"]},"metadata":{},"sourceType":"module"}